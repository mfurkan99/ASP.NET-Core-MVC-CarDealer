@model List<CarDto>



<div class="container-fluid flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4">
        <span class="text-muted fw-light">Car Manager /</span> Cars
    </h4>

    <!-- Basic Bootstrap Table -->
    <div class="card">
        <div class="table-responsive text-nowrap m-1" >


            <a class="btn btn-success mb-3" asp-area="Admin" asp-controller="Car" asp-action="Add">
                Add Car <i class="bx bx-plus"></i>
            </a>


            <table class="table table-bordered" id="carsTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Brand</th>
                        <th>Model</th>
                        <th>Year</th>
                        <th>Price</th>
                        <th>Kilometer</th>
                        <th>Color</th>
                        <th>Image</th>
                        <th>Created Date</th>                       
                        <th>Status</th>
                        <th>Options</th>

                    </tr>
                </thead>
                
                <tbody class="table-border-bottom-0">
                    @foreach (var car in Model)
                    {
                        <tr>
                            <td>@car.Category.Name</td>
                            <td>@car.Brand</td>
                            <td>@car.Model</td>
                            <td>@car.Year</td>
                            <td>@car.Price</td>
                            <td>@car.Kilometer</td>
                            <td>@car.Color</td>
                            <td>
                                @if (!string.IsNullOrEmpty(car.ImageUrl))
                                {
                                    <img src="@car.ImageUrl" alt="@car.Brand @car.Model" style="width: 100px; height: auto;" />
                                }
                                else
                                {
                                    <span>No Image</span>
                                }
                            </td>
                            <td>@car.CreatedDate.ToShortDateString()</td>                          
                            <td>@(car.Status ? "Active" : "Passive")</td>
                            <td>
                                <a class="btn btn-primary btn-sm" data-id="@car.Id" asp-area="Admin" asp-controller="Car" asp-action="Update" asp-route-carId="@car.Id"><i class="bx bxs-edit"></i></a>
                                <a class="btn btn-danger btn-sm" data-id="@car.Id" asp-area="Admin" asp-controller="Car" asp-action="Delete" asp-route-carId="@car.Id"><i class="bx bx-minus-circle"></i></a>
                            </td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!--/ Basic Bootstrap Table -->




</div>

@section Scripts {
    <script src="~/js/carIndex.js" type="application/ecmascript"></script>
}